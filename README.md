# DcmAppTest

## 基本功能
DcmAppTest相当于VehicleSpy3和Canoe一个子集，只包含车载诊断测试功能。当前支持的TP协议只有ISO15765协议，应用协议支持ISO14229协议

## 功能列表

当前版本的DcmAppTest支持一下功能：

+ 支持使用广成科技的USB CAN作为CAN输入/输出设备
+ 支持ISO15765传输协议
+ 支持ISO14229应用协议
+ 支持以配置的方式来设置每个应用功能请求的数据，软件会自动解析配置来生成响应的操作UI,用户可以通过操作UI来改变要传输的数据，当前版本支持以下数据格式：

  1. Xncode格式，此种格式下的值表示多个状态，每个值对应一个单独的状态, 在UI展示上是以组合框的形式展示出来，用户通过选择组合框，可以设置所选择状态对应的值
  2. Phy格式，此种格式下的数据表示一个物理量
  3. Bcd格式，此种格式下，表示8421BCD值；这种格式又有两种子格式，一种表示纯粹的8421BCD值（可以取A-F)，一种是只能取数字值(0-9)，对于前者可以定义一个分隔符来进行分隔
（主要适用于展示版本信息），后者可以定义类似于Phy的格式，来表示物理量
  4. ASCII格式，此种格式下的数据表示多个ASCII字符

+ 支持以配置的方式来定义接收数据的格式，软件会自动根据配置来解析接收到的数据
+ 支持多种形式展示数据（诊断应用数据，应用层数据）
+ 支持保存/加载诊断应用数据
+ 支持解析通用的ISO14229应用数据，并且以高亮的形式突出显示肯定响应和否定响应
+ 支持XP系统（但是需要XP系统安装.net 4, 当前XP系统最后支持的.net版本是4.0.3）
+ 支持Dock布局
+ 支持自动保存用户自定以的Dock布局，用户可以根据自己的喜好来调整Dock布局
+ 支持主题设置，当前支持VS2015-Blue, VS2015-Dark, VS2015-Light三个主题（这儿需要非常感谢DockSuite这个开源项目）

## 优势

+ 以配置的方式来动态生成要设置的UI, 可以极大加快开发效率，不用每次需求变更的时候都需要重新编写软件
+ 以配置的方式来定义接收数据的格式，并且软件在接收到应用数据的时候会自动解析
+ 集成配置编辑器，这样可以使用编辑器来修改配置，不用手动修改配置文件，可以避免出错
+ 相比较于Canoe或者Spy3，加上对应的配套软件，至少需要上万元成本，而使用本软件，只需要花几百元买个广成科技的UsbCan, 加上本软件就可以完成软件测试的基本需求，何乐而不为呢
+ 内部使用C# .net4 winform作为开发平台，当前即使XP系统也可以安装.net4
+ 支持Dock，并且运用用户调整布局，支持自动保存
+ 支持主题设置功能

## 软件快照

## win10 系统下使用快照

### VS2015 Blue主题

![win10-vs2015-blue]("./Docs/Images/Win10/Win10 - VS2015 Blue.png" "VS2015 Blue主题运行效果")

### VS2015 Dark主题

![win10-vs2015-dark]("./Docs/Images/Win10/Win10 - VS2015 Dark.png" "VS2015 Dark主题运行效果")

### VS2015 Light主题

![win10-vs2015-light]("./Docs/Images/Win10/Win10 - VS2015 Light.png" "VS2015 Light主题运行效果")

## XP 系统下使用快照

### VS2015 Blue主题

![xp-vs2015-blue]("./Docs/Images/XP/XP -VS2015 Blue.PNG" "VS2015 Blue主题运行效果")

### VS2015 Dark主题

![xp-vs2015-dark]("./Docs/Images/XP/XP - VS2015 Dark.PNG" "VS2015 Dark主题运行效果")

### VS2015 Light主题

![xp-vs2015-light]("./Docs/Images/XP/XP -VS2015 Light.PNG" "VS2015 Light主题运行效果")

## 使用指导

TODO:

## 项目结构介绍

### 工程文件目录

+ DcmConfig 项目 - 是一个c# .net lib项目，主要负责配置的序列化和反序列化操作
+ DcmService 项目 - 是一个C# .net lib项目，主要负责实现ISO14229和ISO15765
+ Vdf4Cs 项目 - 是一个c# .net lib项目，此项目定义了值描述文件（Value Description File）, 相关配置，他是
DcmConfig项目的一个子配置，这儿为什么把他单独领出来呢？主要是为了便于复用，因为值描述这种编码/解析需求，
不单单仅仅是本项目会使用到，在其他项目中，比如串口数据的编码/解码也可以使用
+ SecurityAccessContract 项目 - 是一个c# .net lib主要负责定义插件接口
+ DummySecurityAccess 项目 - 是一个c# .net lib项目，他是SecurityAccessContract的一个虚拟实现，至少编写号的插件如何安装，请看使用教程
+ CSDcmTest 项目 - 是一个C# .net winform项目， 他是主项目，主要负责整合其他库来实现所有功能

### 其他文件目录

+ Demos 目录 - 存在创建好的Dummy项目所需文件，在熟悉此软件功能的时候，可以使用此软件来进行测试
+ Deps 目录 - 存在本项目中需要用到的两个库文件，一个是DockSuite库文件，一个是主题文件。这儿为什么把他单独
领出来，而没有使用NuGet来进行管理呢，是因为NuGet获取的库在，面板Closeable为False的时候，不会隐藏关闭安装，
而这儿单独给出的两个文件会隐藏关闭按钮
+ Dist 目录 - 存放每次软件释放时候的版本，以Zip格式进行压缩。用户如果项使用每个版本的软件，只需要下载指定的
定版本的zip，然后解压然后执行exe文件即可（前者，在PC上需要安装.net 4以上的版本）
+ Docs 目录 - 存放一些README文件中引用的图片

## 致谢

+ 感谢DockSuite项目

## 参考

+ [ecanspy3]("https://github.com/TwoFlyLiu/ecanspy3" "另外一个ECAN的组态软件，主要负责模拟整车的应用报文数据")
